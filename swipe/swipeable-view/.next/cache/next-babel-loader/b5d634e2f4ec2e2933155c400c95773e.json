{"ast":null,"code":"import _Object$assign from \"@babel/runtime-corejs2/core-js/object/assign\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/vagrant/webstudy/swipe/swipeable-view/pages/effect.js\";\nvar __jsx = React.createElement;\nimport React from 'react';\nimport SwipeableViews from './SwipeableViews.js';\nimport Animated from 'animated/lib/targets/react-dom';\nconst styles = {\n  root: {\n    background: '#000',\n    padding: '0px 50px'\n  },\n  slideContainer: {\n    height: 400\n  },\n  slide: {\n    //padding: 15,\n    minHeight: 400,\n    color: '#fff'\n  },\n  slide1: {\n    backgroundColor: '#FEA900'\n  },\n  slide2: {\n    backgroundColor: '#B3DC4A'\n  },\n  slide3: {\n    backgroundColor: '#6AC0FF'\n  },\n  img: {\n    width: 180,\n    height: 180,\n    display: 'block',\n    marginBottom: 16\n  }\n};\n\nclass VirticalSwipeView extends SwipeableViews {}\n\nconst albums = [{\n  name: 'Abbey Road',\n  src: 'https://react-swipeable-views.com/static/album-art-1.jpg'\n}, {\n  name: 'Bat Out of Hell',\n  src: 'https://react-swipeable-views.com/static/album-art-2.jpg'\n}, {\n  name: 'Homogenic',\n  src: 'https://react-swipeable-views.com/static/album-art-3.jpg'\n}];\n\nclass Effect extends React.Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      index: 0,\n      position: new Animated.Value(0)\n    });\n\n    _defineProperty(this, \"handleChangeIndex\", index => {\n      this.setState({\n        index\n      });\n    });\n\n    _defineProperty(this, \"handleSwitch\", (index, type) => {\n      if (type === 'end') {\n        Animated.spring(this.state.position, {\n          toValue: index\n        }).start();\n        return;\n      }\n\n      this.state.position.setValue(index);\n    });\n\n    _defineProperty(this, \"getstyle\", i => {\n      if (i % 3 == 0) return styles.slide1;else if (i % 3 == 1) return styles.slide2;else return styles.slide3;\n    });\n  }\n\n  /* containerStyle={styles.slideContainer} */\n  render() {\n    const {\n      index,\n      position\n    } = this.state;\n    console.log(\"position = \", position);\n    return __jsx(VirticalSwipeView, {\n      index: index,\n      style: styles.root,\n      enableMouseEvents: true,\n      axis: \"x\",\n      resistance: true,\n      onChangeIndex: this.handleChangeIndex,\n      onSwitching: this.handleSwitch,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, albums.map((album, currentIndex) => {\n      const inputRange = albums.map((_, i) => i);\n      /*\n      */\n\n      console.log(\"currentIndex=\", currentIndex);\n      console.log(\"index=\", this.state.index);\n      console.log(\"inputRange=\", inputRange);\n      const scale = position.interpolate({\n        inputRange,\n        outputRange: inputRange.map(i => {\n          //return currentIndex === i ? 1 : 0.7;\n          return 1;\n        })\n      });\n      const opacity = position.interpolate({\n        inputRange,\n        outputRange: inputRange.map(i => {\n          if (currentIndex == this.state.index) return currentIndex == i ? 1 : 0.3;else return 1;\n        })\n      });\n      const outtt = inputRange.map(i => {\n        if (i == currentIndex) return 0;else if (i < currentIndex) return 200;else return -200;\n      });\n      console.log(\"outtt=\", outtt);\n      const translateX = position.interpolate({\n        inputRange,\n        outputRange: inputRange.map(i => {\n          if (i == currentIndex) return -200;\n          return 200;\n          /*\n                        if (i == currentIndex)\n                          return 0;\n                        else if (i < currentIndex)\n                          return 200;\n                        else\n                          return -200;\n                        if (i == currentIndex)\n                          return (100 / 2) * (i - currentIndex);\n                        else\n                          return 100/2 * (i - currentIndex);\n          */\n        })\n      });\n      console.log(\"inputRange=\", inputRange); //console.log(translateY);\n\n      const slidestyle = this.getstyle(currentIndex);\n      console.log(album.src);\n      return __jsx(Animated.div, {\n        key: String(currentIndex),\n        style: _Object$assign({\n          opacity,\n          transform: [{\n            scale\n          }, {\n            translateX\n          }]\n        }, styles.slide, slidestyle),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151\n        },\n        __self: this\n      }, __jsx(\"img\", {\n        style: styles.img,\n        src: album.src,\n        alt: \"cover\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }), album.name);\n    }));\n  }\n\n}\n\n;\nexport default Effect;","map":{"version":3,"sources":["/home/vagrant/webstudy/swipe/swipeable-view/pages/effect.js"],"names":["React","SwipeableViews","Animated","styles","root","background","padding","slideContainer","height","slide","minHeight","color","slide1","backgroundColor","slide2","slide3","img","width","display","marginBottom","VirticalSwipeView","albums","name","src","Effect","Component","index","position","Value","setState","type","spring","state","toValue","start","setValue","i","render","console","log","handleChangeIndex","handleSwitch","map","album","currentIndex","inputRange","_","scale","interpolate","outputRange","opacity","outtt","translateX","slidestyle","getstyle","String","transform"],"mappings":"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","sourcesContent":["import React from 'react';\nimport SwipeableViews from './SwipeableViews.js';\nimport Animated from 'animated/lib/targets/react-dom';\n\nconst styles = {\n  root: {\n    background: '#000',\n    padding: '0px 50px',\n  },\n  slideContainer: {\n    height: 400,\n  },\n  slide: {\n    //padding: 15,\n    minHeight: 400,\n    color: '#fff',\n  },\n  slide1: {\n    backgroundColor: '#FEA900',\n  },\n  slide2: {\n    backgroundColor: '#B3DC4A',\n  },\n  slide3: {\n    backgroundColor: '#6AC0FF',\n  },\n  img: {\n    width: 180,\n    height: 180,\n    display: 'block',\n    marginBottom: 16,\n  },\n};\n\nclass VirticalSwipeView extends SwipeableViews {\n}\n\nconst albums = [\n  {\n    name: 'Abbey Road',\n    src: 'https://react-swipeable-views.com/static/album-art-1.jpg',\n  },\n  {\n    name: 'Bat Out of Hell',\n    src: 'https://react-swipeable-views.com/static/album-art-2.jpg',\n  },\n  {\n    name: 'Homogenic',\n    src: 'https://react-swipeable-views.com/static/album-art-3.jpg',\n  },\n];\n\nclass Effect extends React.Component {\n  state = {\n    index: 0,\n    position: new Animated.Value(0),\n  };\n\n  handleChangeIndex = index => {\n    this.setState({ index });\n  };\n\n  handleSwitch = (index, type) => {\n    if (type === 'end') {\n      Animated.spring(this.state.position, { toValue: index }).start();\n      return;\n    }\n    this.state.position.setValue(index);\n  };\n\n  getstyle = (i) => {\n    if (i%3 == 0)\n      return styles.slide1;\n    else if (i%3 == 1)\n      return styles.slide2;\n    else\n      return styles.slide3;\n  }\n\n/* containerStyle={styles.slideContainer} */\n\n  render() {\n    const { index, position } = this.state;\n    console.log(\"position = \", position);\n    return (\n      <VirticalSwipeView\n        index={index}\n        style={styles.root}\n        enableMouseEvents axis=\"x\" resistance\n        onChangeIndex={this.handleChangeIndex}\n        onSwitching={this.handleSwitch}\n      >\n        {albums.map((album, currentIndex) => {\n          const inputRange = albums.map((_, i) => i);\n/*\n*/\n          console.log(\"currentIndex=\", currentIndex);\n          console.log(\"index=\", this.state.index);\n          console.log(\"inputRange=\", inputRange);\n          const scale = position.interpolate({\n            inputRange,\n            outputRange: inputRange.map(i => {\n              //return currentIndex === i ? 1 : 0.7;\n              return 1;\n            }),\n          });\n          const opacity = position.interpolate({\n            inputRange,\n            outputRange: inputRange.map(i => {\n              if (currentIndex == this.state.index)\n                return currentIndex == i ? 1 : 0.3;\n              else\n                return 1;\n            }),\n          });\n          const outtt = inputRange.map(i => {\n              if (i == currentIndex)\n                return 0;\n              else if (i < currentIndex)\n                return 200;\n              else\n                return -200;\n          })\n          console.log(\"outtt=\",outtt);\n          const translateX = position.interpolate({\n            inputRange,\n            outputRange: inputRange.map(i => {\n              if (i == currentIndex)\n                return -200;\n              return 200;\n/*\n              if (i == currentIndex)\n                return 0;\n              else if (i < currentIndex)\n                return 200;\n              else\n                return -200;\n              if (i == currentIndex)\n                return (100 / 2) * (i - currentIndex);\n              else\n                return 100/2 * (i - currentIndex);\n*/\n            }),\n          });\n          console.log(\"inputRange=\",inputRange);\n          //console.log(translateY);\n          const slidestyle = this.getstyle(currentIndex);\n\n          console.log(album.src);\n          return (\n            <Animated.div\n              key={String(currentIndex)}\n              style={Object.assign(\n                {\n                  opacity,\n                  transform: [{ scale }, { translateX }],\n                },\n                styles.slide,\n                slidestyle,\n              )}\n            >\n              <img style={styles.img} src={album.src} alt=\"cover\" />\n              {album.name}\n            </Animated.div>\n          );\n        })}\n      </VirticalSwipeView>\n    );\n  };\n};\n\nexport default Effect;\n\n"]},"metadata":{},"sourceType":"module"}
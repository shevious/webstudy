{"ast":null,"code":"import _Object$assign from \"@babel/runtime-corejs2/core-js/object/assign\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/vagrant/webstudy/swipe/swipeable-view/pages/effect.js\";\nvar __jsx = React.createElement;\nimport React from 'react'; //import SwipeableViews from './SwipeableViews.js';\n\nimport SwipeableViews from 'react-swipeable-views';\nimport Animated from 'animated/lib/targets/react-dom';\nvar styles = {\n  root: {\n    background: '#000',\n    padding: '0px 0px'\n  },\n  slideContainer: {\n    height: 400,\n    padding: '0px 0px'\n  },\n  slide: {\n    //padding: 15,\n    //minHeight: 400,\n    color: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexDirection: 'column',\n    display: 'flex',\n    overflow: 'hidden'\n  },\n  slide1: {\n    backgroundColor: '#FEA900'\n  },\n  slide2: {\n    backgroundColor: '#B3DC4A'\n  },\n  slide3: {\n    backgroundColor: '#6AC0FF'\n  },\n  img: {\n    width: 400,\n    height: 250,\n    display: 'block',\n    marginBottom: 16\n  }\n};\n\nvar VirticalSwipeView =\n/*#__PURE__*/\nfunction (_SwipeableViews) {\n  _inherits(VirticalSwipeView, _SwipeableViews);\n\n  function VirticalSwipeView() {\n    _classCallCheck(this, VirticalSwipeView);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(VirticalSwipeView).apply(this, arguments));\n  }\n\n  return VirticalSwipeView;\n}(SwipeableViews);\n\nvar albums = [{\n  name: 'Abbey Road',\n  src: 'https://react-swipeable-views.com/static/album-art-1.jpg'\n}, {\n  name: 'Bat Out of Hell',\n  src: 'https://react-swipeable-views.com/static/album-art-2.jpg'\n}, {\n  name: 'Homogenic',\n  src: 'https://react-swipeable-views.com/static/album-art-3.jpg'\n}];\n\nvar Effect =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Effect, _React$Component);\n\n  function Effect() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Effect);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Effect)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      index: 0,\n      position: new Animated.Value(0)\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChangeIndex\", function (index) {\n      _this.setState({\n        index: index\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSwitch\", function (index, type) {\n      if (type === 'end') {\n        Animated.spring(_this.state.position, {\n          toValue: index\n        }).start();\n        return;\n      }\n\n      _this.state.position.setValue(index);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getstyle\", function (i) {\n      if (i % 3 == 0) return styles.slide1;else if (i % 3 == 1) return styles.slide2;else return styles.slide3;\n    });\n\n    return _this;\n  }\n\n  _createClass(Effect, [{\n    key: \"render\",\n\n    /* containerStyle={styles.slideContainer} */\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          index = _this$state.index,\n          position = _this$state.position;\n      console.log(\"position = \", position);\n      return __jsx(VirticalSwipeView, {\n        index: index,\n        style: styles.root,\n        containerStyle: styles.slideContainer,\n        enableMouseEvents: true,\n        axis: \"y\",\n        onChangeIndex: this.handleChangeIndex,\n        onSwitching: this.handleSwitch,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, albums.map(function (album, currentIndex) {\n        var inputRange = albums.map(function (_, i) {\n          return i;\n        });\n        /*\n        */\n\n        console.log(\"currentIndex=\", currentIndex);\n        console.log(\"index=\", _this2.state.index);\n        console.log(\"inputRange=\", inputRange);\n        var scale = position.interpolate({\n          inputRange: inputRange,\n          outputRange: inputRange.map(function (i) {\n            //return currentIndex === i ? 1 : 0.7;\n            return 1;\n          })\n        });\n        var opacity = position.interpolate({\n          inputRange: inputRange,\n          outputRange: inputRange.map(function (i) {\n            if (currentIndex == _this2.state.index) return currentIndex == i ? 1 : 0.3;else return 1;\n          })\n        });\n        var height = position.interpolate({\n          inputRange: inputRange,\n          outputRange: inputRange.map(function (i) {\n            if (currentIndex == i) return 300;else return 100;\n          })\n        });\n        var translateY = position.interpolate({\n          inputRange: inputRange,\n          outputRange: inputRange.map(function (i) {\n            //return (100 / 2) * (i - currentIndex);\n            return 0;\n            /*\n                          if (currentIndex == this.state.index)\n                            if (i == currentIndex)\n                              return 0;\n                            else if (i < currentIndex)\n                              return -400;\n                            else\n                              return 400;\n                          else if (currentIndex > this.state.index)\n                            return 0;\n                          else \n                            return 0;\n            */\n\n            /*\n                          if (i == this.state.index)\n                            return 0;\n                          return -200;\n                          if (i == currentIndex)\n                            return 0;\n                          else if (i < currentIndex)\n                            return 200;\n                          else\n                            return -200;\n                          if (i == currentIndex)\n                            return (100 / 2) * (i - currentIndex);\n                          else\n                            return 100/2 * (i - currentIndex);\n            */\n          })\n        });\n        console.log(\"inputRange=\", inputRange); //console.log(translateY);\n\n        var slidestyle = _this2.getstyle(currentIndex);\n\n        console.log(album.src);\n        return __jsx(Animated.div, {\n          key: String(currentIndex),\n          style: _Object$assign({\n            opacity: opacity,\n            transform: [{\n              scale: scale\n            }, {\n              translateY: translateY\n            }],\n            height: height\n          }, styles.slide, slidestyle),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }, __jsx(\"img\", {\n          style: styles.img,\n          src: album.src,\n          alt: \"cover\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 187\n          },\n          __self: this\n        }), __jsx(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 188\n          },\n          __self: this\n        }, album.name), __jsx(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191\n          },\n          __self: this\n        }, album.name));\n      }));\n    }\n  }]);\n\n  return Effect;\n}(React.Component);\n\n;\nexport default Effect;","map":{"version":3,"sources":["/home/vagrant/webstudy/swipe/swipeable-view/pages/effect.js"],"names":["React","SwipeableViews","Animated","styles","root","background","padding","slideContainer","height","slide","color","alignItems","justifyContent","flexDirection","display","overflow","slide1","backgroundColor","slide2","slide3","img","width","marginBottom","VirticalSwipeView","albums","name","src","Effect","index","position","Value","setState","type","spring","state","toValue","start","setValue","i","console","log","handleChangeIndex","handleSwitch","map","album","currentIndex","inputRange","_","scale","interpolate","outputRange","opacity","translateY","slidestyle","getstyle","String","transform","Component"],"mappings":"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","sourcesContent":["import React from 'react';\n//import SwipeableViews from './SwipeableViews.js';\nimport SwipeableViews from 'react-swipeable-views';\nimport Animated from 'animated/lib/targets/react-dom';\n\nconst styles = {\n  root: {\n    background: '#000',\n    padding: '0px 0px',\n  },\n  slideContainer: {\n    height: 400,\n    padding: '0px 0px',\n  },\n  slide: {\n    //padding: 15,\n    //minHeight: 400,\n    color: '#fff',\n    alignItems: 'center',\n    justifyContent: 'center',\n    flexDirection: 'column',\n    display: 'flex',\n    overflow: 'hidden',\n  },\n  slide1: {\n    backgroundColor: '#FEA900',\n  },\n  slide2: {\n    backgroundColor: '#B3DC4A',\n  },\n  slide3: {\n    backgroundColor: '#6AC0FF',\n  },\n  img: {\n    width: 400,\n    height: 250,\n    display: 'block',\n    marginBottom: 16,\n  },\n};\n\nclass VirticalSwipeView extends SwipeableViews {\n}\n\nconst albums = [\n  {\n    name: 'Abbey Road',\n    src: 'https://react-swipeable-views.com/static/album-art-1.jpg',\n  },\n  {\n    name: 'Bat Out of Hell',\n    src: 'https://react-swipeable-views.com/static/album-art-2.jpg',\n  },\n  {\n    name: 'Homogenic',\n    src: 'https://react-swipeable-views.com/static/album-art-3.jpg',\n  },\n];\n\nclass Effect extends React.Component {\n  state = {\n    index: 0,\n    position: new Animated.Value(0),\n  };\n\n  handleChangeIndex = index => {\n    this.setState({ index });\n  };\n\n  handleSwitch = (index, type) => {\n    if (type === 'end') {\n      Animated.spring(this.state.position, { toValue: index }).start();\n      return;\n    }\n    this.state.position.setValue(index);\n  };\n\n  getstyle = (i) => {\n    if (i%3 == 0)\n      return styles.slide1;\n    else if (i%3 == 1)\n      return styles.slide2;\n    else\n      return styles.slide3;\n  }\n\n/* containerStyle={styles.slideContainer} */\n\n  render() {\n    const { index, position } = this.state;\n    console.log(\"position = \", position);\n    return (\n      <VirticalSwipeView\n        index={index}\n        style={styles.root}\n        containerStyle={styles.slideContainer}\n        enableMouseEvents axis=\"y\" \n        onChangeIndex={this.handleChangeIndex}\n        onSwitching={this.handleSwitch}\n      >\n        {albums.map((album, currentIndex) => {\n          const inputRange = albums.map((_, i) => i);\n/*\n*/\n          console.log(\"currentIndex=\", currentIndex);\n          console.log(\"index=\", this.state.index);\n          console.log(\"inputRange=\", inputRange);\n          const scale = position.interpolate({\n            inputRange,\n            outputRange: inputRange.map(i => {\n              //return currentIndex === i ? 1 : 0.7;\n              return 1;\n            }),\n          });\n          const opacity = position.interpolate({\n            inputRange,\n            outputRange: inputRange.map(i => {\n              if (currentIndex == this.state.index)\n                return currentIndex == i ? 1 : 0.3;\n              else\n                return 1;\n            }),\n          });\n          const height = position.interpolate({\n            inputRange,\n            outputRange: inputRange.map(i => {\n              if (currentIndex == i)\n                return 300;\n              else\n                return 100;\n            }),\n          });\n          const translateY = position.interpolate({\n            inputRange,\n            outputRange: inputRange.map(i => {\n              //return (100 / 2) * (i - currentIndex);\n              return 0;\n/*\n              if (currentIndex == this.state.index)\n                if (i == currentIndex)\n                  return 0;\n                else if (i < currentIndex)\n                  return -400;\n                else\n                  return 400;\n              else if (currentIndex > this.state.index)\n                return 0;\n              else \n                return 0;\n*/\n        \n/*\n              if (i == this.state.index)\n                return 0;\n              return -200;\n              if (i == currentIndex)\n                return 0;\n              else if (i < currentIndex)\n                return 200;\n              else\n                return -200;\n              if (i == currentIndex)\n                return (100 / 2) * (i - currentIndex);\n              else\n                return 100/2 * (i - currentIndex);\n*/\n            }),\n          });\n          console.log(\"inputRange=\",inputRange);\n          //console.log(translateY);\n          const slidestyle = this.getstyle(currentIndex);\n\n          console.log(album.src);\n          return (\n            <Animated.div\n              key={String(currentIndex)}\n              style={Object.assign(\n                {\n                  opacity,\n                  transform: [{ scale }, { translateY }],\n                  height,\n                },\n                styles.slide,\n                slidestyle,\n              )}\n            >\n              <img style={styles.img} src={album.src} alt=\"cover\" />\n              <p>\n              {album.name} \n              </p>\n              <p>\n              {album.name} \n              </p>\n            </Animated.div>\n          );\n        })}\n      </VirticalSwipeView>\n    );\n  };\n};\n\nexport default Effect;\n\n"]},"metadata":{},"sourceType":"module"}